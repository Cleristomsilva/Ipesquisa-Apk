<CreateAccountWindow>:
    name: "create"
    email: email
    password: passw
    check_registrar: check_registrar

    BoxLayout:
        orientation: "vertical"
        font_name: 'open-sans.regular.ttf'
        padding: [0, 50, 0, 0]  # Adicionando um espaço de 50 pixels no topo

        GridLayout:
            id: layout
            cols: 1
            spacing: 10
            padding: 10

            Label:
                text: "Crie seu acesso"
                font_size: 24
                size_hint_y: None
                height: 60
                font_name: 'open-sans.regular.ttf'

            Label:
                text: "Digite seu Email: "
                font_size: 18
                size_hint_y: None
                height: 40
                font_name: 'open-sans.regular.ttf'

            TextInput:
                id: email
                font_size: 16
                multiline: False
                size_hint_y: None
                height: 40
                font_name: 'open-sans.regular.ttf'

            Label:
                text: "Crie uma Senha: "
                font_size: 18
                size_hint_y: None
                height: 40
                font_name: 'open-sans.regular.ttf'

            TextInput:
                id: passw
                size_hint_y: None
                height: 40
                font_name: 'open-sans.regular.ttf'
                multiline: False
                password: True
                font_size: 16

            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: 30

                CheckBox:
                    id: check_registrar
                    size_hint: None, None
                    size: 20, 40
                    active: False
                    on_active: root.exibir_senha_registrar(check_registrar)

                Label:
                    text: "Exibir senha"
                    size_hint: None, None
                    size: 80, 40
                    font_size: 12
                    font_name: 'open-sans.regular.ttf'

            Button:
                text: "Você ja tem uma conta?\n       Volte ao Login"
                font_size: 14
                size_hint_y: None
                height: 40
                font_name: 'open-sans.regular.ttf'
                on_release:root.manager.transition.direction = "left";root.login()

            Button:
                text: "Registrar"
                font_size: 20
                size_hint_y: None
                height: 40
                font_name: 'open-sans.regular.ttf'
                on_press: root.submit()


<LoginWindow>:
    name: "login"
    email: email
    password: password
    font_name:'open-sans.italic.ttf'
    save_email_switch: save_email_switch  # Adicione esta linha


    BoxLayout:
        orientation: "vertical"
        font_name: 'open-sans.regular.ttf'
        padding: [0, 50, 0, 0]  # Adicionando um espaço de 50 pixels no topo


        GridLayout:
            id: layout
            cols: 1
            spacing: 10
            padding: 10

            Label:
                text: "Email: "
                font_size: 26
                size_hint_y: None
                height: 40
                font_name: 'open-sans.regular.ttf'

            TextInput:
                id: email
                font_size: 16
                multiline: False
                size_hint_y: None
                height: 40
                size_hint_x: 0.8  # Definindo uma proporção para o tamanho em relação à largura da tela
                pos_hint: {"center_x": 0.5}
                font_name: 'open-sans.regular.ttf'

            Label:
                text: "Senha: "
                font_size: 26
                size_hint_y: None
                height: 40
                font_name: 'open-sans.regular.ttf'

            TextInput:
                id: password
                font_size: 16
                multiline: False
                password: True
                size_hint_y: None
                height: 40
                size_hint_x: 0.8  # Definindo uma proporção para o tamanho em relação à largura da tela
                pos_hint: {"center_x": 0.5}
                font_name: 'open-sans.regular.ttf'

            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: 30

                CheckBox:
                    id: save_email_switch
                    size_hint: None, None
                    size: 20, 40
                    active: False
                    on_active: root.exibir_senha(save_email_switch)

                Label:
                    text: "Exibir senha"
                    size_hint: None, None
                    size: 80, 40
                    font_size: 12
                    font_name: 'open-sans.regular.ttf'

            Button:
                text: "Login"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}
                font_size: 24
                font_name: 'open-sans.regular.ttf'
                on_release: root.checkbox_login(save_email_switch); root.manager.transition.direction = "up"; root.loginBtn()

            Button:
                text: "Não tenho conta."
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}
                font_size: 18
                font_name: 'open-sans.regular.ttf'
                on_release:
                    root.manager.transition.direction = "right"
                    root.createBtn()

            Image:
                source: 'ipesquisa2.png'
                pos_hint: {"center_x": 0.5}
                size_hint_y: None
                height: 100
                pos_hint: {"center_x": 0.5}




<MainWindow>:
    name: "second"

    BoxLayout:
        orientation: "vertical"
        padding: 30
        spacinng: 20

        Label:
            id: tema_label
            text: "Tema Escuro"
            font_name: 'open-sans.semibold.ttf'
            size_hint: None, None
            size: 90, 50
            pos_hint: {"center_y": 0.5, "right": 0.99}  # Centralizando verticalmente e alinhando à margem direita


        Switch:
            id: switch
            size_hint_y: None
            size_hint_x: None
            height: 20
            pos_hint: {"center_y": 0.5, "right": 1}  # Centralizando verticalmente e alinhando à margem direita
            active: True
            canvas:
                Color:
                    rgba: 0, 0, 0, 0 # Cor transparente para o retângulo de toque
                Rectangle:
                    size: self.size
                    pos: self.pos
            on_active: root.atualizar_tema_label(*args)
            on_active: root.tema_fundo(*args)

        Label:
            id: espaco_entre switch  # Adicionando um id para referência no Python
            text: ""
            font_name: 'open-sans.semibold.ttf'
            size_hint: None, None
            size_hint: None, None
            size: 50, 50



        Button:
            text: "Nova Pesquisa"
            font_name: 'open-sans.regular.ttf'
            on_release: root.nova_pesquisa()

        Button:
            text: "Exportar Dados"
            font_name: 'open-sans.regular.ttf'
            on_release: root.export_data()

        Button:
            text: "Apagar backup"
            font_name: 'open-sans.regular.ttf'
            on_release: root.delete_data()


        Button:
            text: "Sair"
            font_name: 'open-sans.regular.ttf'
            active: True
            on_release: root.tema_login("tema_inicial");root.logout();switch.active = True




<PesquisaWindow>:
    BoxLayout:
        orientation: "vertical"
        font_name:'open-sans.regular.ttf'


    GridLayout:
        id: layout
        cols: 1
        spacing: 10
        padding: 10

        Label:
            id: questionario
            text: 'Questionário'
            bold: True
            size_hint_y: None
            height: 30


        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 40
            spacing: 10

            Label:
                id: idade
                text: 'Idade:'
                size_hint: None, None
                size: 60, 30
                pos_hint: {"center_y": 0.5}

            Spinner:
                id: idade_spinner
                text: 'Selecione a sua idade'
                values: ['16 a 18', '18 a 24', '25 a 34', '35 a 44', '45 a 54', '55 a 64', '65 ou mais']
                size_hint_y: None
                height: 40


        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 40
            spacing: 10
            Label:
                id: genero
                text: 'Gênero:'
                size_hint: None, None
                size: 62, 15
                pos_hint: {"center_y": 0.5}
            Spinner:
                id: genero_spinner
                text: 'Selecione o seu gênero'
                values: ['Masculino', 'Feminino', 'Outro']
                size_hint_y: None
                height: 40

        Label:
            id: escolaridade
            text: 'Escolaridade:'
            size_hint: None, None
            size: 100, 15
        Spinner:
            id: escolaridade_spinner
            text: 'Selecione a sua escolaridade'
            values: ['Ensino fundamental incompleto', 'Ensino fundamental completo', 'Ensino médio incompleto', 'Ensino médio completo', 'Ensino superior incompleto', 'Ensino superior completo']
            size_hint_y: None
            height: 40

        Label:
            id: renda
            text: 'Renda mensal familiar:'
            size_hint: None, None
            size: 155, 15
        Spinner:
            id: renda_spinner
            text: 'Selecione sua faixa de renda'
            values: ['Até R$ 1.400', 'de R$ 1.400 a R$ 2.800','de R$ 2.800 a R$ 4.200', 'de R$ 4.200 a R$ 5.600', 'Acima de R$ 5.600']
            size_hint_y: None
            height: 40

        Label:
            id: pergunta1
            text: 'Qual a melhor coisa que\n o governo fez em seu bairro?'
            size_hint: None,None
            size: 200, 20
        TextInput:
            id: pergunta1_input
            hint_text: 'Selecione sua resposta'
            size_hint_y: None
            height: 50

        Label:
            id: pergunta2
            text: 'Qual o principal problema\n hoje no seu bairro?'
            size_hint: None,None
            size: 175, 20
        TextInput:
            id: pergunta2_input
            hint_text: 'Selecione sua resposta'
            size_hint_y: None
            height: 50

        Label:
            id: pergunta3
            text: 'Você conhece a\nLuciana Gualhardo(Tia Lu)?'
            size_hint: None,None
            size: 190, 30
        Spinner:
            id: pergunta3_spinner
            text: 'Selecione sua resposta'
            values: ['Sim', 'Não']
            size_hint_y: None
            height: 40

        Label:
            id: pergunta4
            text: 'Você conhece o Kadu da APAE?'
            size_hint: None,None
            size: 220, 10
        Spinner:
            id: pergunta4_spinner
            text: 'Selecione sua resposta'
            values: ['Sim', 'Não']
            size_hint_y: None
            height: 40



        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 40
            spacing: 10

            Button:
                id: cancelar
                text: 'Cancelar'
                background_color: 1, 0, 0, 1
                on_press: root.cancelar_pesquisa()

            Button:
                id: salvar
                text: 'Salvar'
                background_color: 0, 1, 0, 1
                on_press: root.salvar_pesquisa()



        Label:
            id: contador_label
            text: 'Nenhuma pesquisa realizada.'



